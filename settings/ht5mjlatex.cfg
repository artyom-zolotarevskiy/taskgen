\Preamble{xhtml,mathjax}
\Configure{VERSION}{}
\Configure{DOCTYPE}{\HCode{<!DOCTYPE html>\Hnewline}}
\Configure{HTML}{\HCode{<html lang="ru">\Hnewline}}{\HCode{\Hnewline</html>}}
\Configure{@HEAD}{}
\Configure{@HEAD}{\HCode{<meta charset="UTF-8" />\Hnewline}}
\Configure{@HEAD}{\HCode{<meta name="generator" content="TaskGenerator" />\Hnewline}}
\Configure{@HEAD}{\HCode{<link
         rel="stylesheet" type="text/css"
         href="\expandafter\csname aa:CssFile\endcsname" />\Hnewline}}
\Configure{@HEAD}{\HCode{<script type="text/javascript"\Hnewline
async="async" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js"\Hnewline
></script>\Hnewline}}
\Configure{@HEAD}{\HCode{<style type="text/css">\Hnewline
  .MathJax_MathML {text-indent: 0;}\Hnewline
  div.typeset {
      hyphens: auto;
  }
  .body > p.noindent {
      display: inline;
  }\Hnewline
  .body > p.noindent \detokenize{~} p.noindent {
      display: inherit;
  }\Hnewline
  div.body {
    padding: 1cm;
    border: 1px solid lightgray;
    max-width: 210mm;
    margin: 0 auto;
    text-align: justify;
  }\Hnewline
  div.body p {
    text-align: justify;
  }\Hnewline
  div.center p {
    text-align: center !important;
  }\Hnewline
  div.solution {
    padding-top: 1em;
  }\Hnewline
  div.answer {
    padding-top: 1em;
  }\Hnewline
  figure img {
    margin: auto !important;
    max-width: 100\%;
    height: auto;
  }\Hnewline
  figure p {
    text-align: center !important;
  }\Hnewline
  figure.figure figcaption.caption {
    width: 100\%;
    border: none;
    padding: 0;
    margin: 0;
    text-indent: 0;
  }\Hnewline
</style>\Hnewline}}
\Configure{@HEAD}{\HCode{<script src="mathjax_config.js"></script>\Hnewline}}
\Configure{@HEAD}{\HCode{<script src="hyphenopoly_loader.js"></script>\Hnewline}}
% disable image cache
\Configure{@HEAD}{\HCode{<script>\Hnewline
for (el of document.querySelectorAll("figure.figure img[src]")) {
  el.src = el.src + "?" + (new Date()).getTime();
}
</script>\Hnewline}}
\Configure{BODY}
  {\HCode{<body><div class="body typeset" lang="ru"\detokenize{>}\Hnewline
<div id="ppitest" style="width:1in;visible:hidden;padding:0px"></div>\Hnewline}}
  {\HCode{\Hnewline</div></body>}}
\Configure{@BODY}{\IgnorePar\HCode{<p style="display:none;">}
\HCode{\detokenize{\(}}
\special{t4ht*<mathjaxcommands.tex}
\HCode{\detokenize{\)}}
\HCode{</p>\Hnewline}
\par
}
\Configure{newline}{\HCode{<br class="newline" />\Hnewline}}

\makeatletter
\Configure{PdfConvert}{png}{"rungs -q -dNOPAUSE -dBATCH -dusecropbox -sDEVICE=png16m -r300 \ifx\Gin@page\@empty\else -dFirstPage="\Gin@page"  -dLastPage="\Gin@page"\fi\space -sOutputFile="\Gin@base-\Gin@page.png" "\Gin@base.pdf" "}
\ExplSyntaxOn
\Configure{Gin-dim}{style="width:\fp_eval:n{round(\Gin@req@width/\textwidth*100,2)}\char_generate:nn { `\% } { 12 }"}
\Configure{IMG}
  {\ht:special{t4ht=<img\space src="}}
  {\ht:special{t4ht="\space alt="}}
  {" }
  {\ht:special{t4ht=" }}
  {\ht:special{t4ht=/>}}
\ExplSyntaxOff
\makeatother

\begin{document}

\EndPreamble
